var hs = [[50.978273,13.795117,"Fu\u00dfweg nach Borthen"],[50.981927,13.796041,"Sobrigauer Weg"],[50.983742,13.835975,"Lugaer Platz"],[50.984056,13.80024,"Kelterei"],[50.985355,13.832321,"Luga"],[50.985884,13.828368,"Krebser Stra\u00dfe"],[50.987017,13.802889,"Am Galgenberg"],[50.987255,13.806744,"Lockwitz"],[50.988144,13.802691,"H\u00e4nichenweg"],[50.988859,13.829554,"Krebser Stra\u00dfe Nord"],[50.989303,13.811453,"Altlockwitz"],[50.989374,13.845413,"Hp Zschachwitz"],[50.990341,13.802463,"Theilestra\u00dfe"],[50.99041,13.795059,"Helena-Rott-Stra\u00dfe"],[50.991216,13.78764,"Arno-Schellenberg-Stra\u00dfe"],[50.992046,13.807329,"Urnenstra\u00dfe"],[50.992165,13.789115,"Alter Postweg"],[50.992173,13.797919,"Nickerner Weg"],[50.992942,13.82658,"Veilchenstra\u00dfe"],[50.99313,13.864764,"Tronitzer Stra\u00dfe"],[50.99321,13.850665,"Fritz-Schreiter-Stra\u00dfe"],[50.994275,13.88189,"S\u00f6brigen"],[50.99494,13.818966,"Bedrich-Smetana-Stra\u00dfe"],[50.995199,13.866329,"Borsbergblick"],[50.99552,13.803575,"Erich-K\u00e4stner-Stra\u00dfe"],[50.995582,13.826228,"Niedersedlitzer Platz"],[50.995636,13.858668,"H\u00fcfnerweg"],[50.996009,13.848782,"Struppener Stra\u00dfe"],[50.996173,13.789198,"Altnickern"],[50.99674,13.821715,"Dorfstra\u00dfe"],[50.996846,13.807345,"Kurt-Tucholsky-Stra\u00dfe"],[50.996891,13.855498,"Johannes-Brahms-Stra\u00dfe"],[50.997164,13.827929,"Prof-Billroth-Stra\u00dfe"],[50.997304,13.867382,"Freibad Wostra"],[50.997738,13.879537,"S\u00f6brigener Stra\u00dfe"],[50.997849,13.80935,"G\u00f6ppersdorfer Weg"],[50.997888,13.852703,"Am Br\u00fcchigt"],[50.998175,13.82596,"Sosaer Stra\u00dfe"],[50.998292,13.817274,"M\u00fchlenstra\u00dfe"],[50.998512,13.799603,"Prohlis Einkaufszentrum"],[50.999011,13.803397,"Windm\u00fchlenstra\u00dfe"],[50.999234,13.846089,"Am Wiesenrand"],[50.999363,13.828713,"Bf Niedersedlitz"],[50.999379,13.79938,"Prohlis Gleisschleife"],[50.99975,13.900775,"Am Waldrand"],[51.000669,13.829705,"F\u00f6rsterlingstra\u00dfe"],[51.000992,13.838352,"Sch\u00f6naer Stra\u00dfe"],[51.001035,13.824733,"An der Post"],[51.001424,13.802579,"Ernst-Toller-Stra\u00dfe"],[51.001767,13.79373,"Fritz-Meinhardt-Stra\u00dfe"],[51.00177,13.863016,"Wostra"],[51.002117,13.797861,"Georg-Palitzsch-Stra\u00dfe"],[51.002267,13.841878,"Bahnhofstra\u00dfe"],[51.002369,13.8945,"Dorfplatz Oberpoyritz"],[51.002966,13.825963,"Stra\u00dfe des 17. Juni"],[51.003022,13.860587,"Zur Elbinsel"],[51.003102,13.821295,"Reisstra\u00dfe"],[51.00412,13.765581,"Gombsener Stra\u00dfe"],[51.004308,13.848656,"Putjatinplatz"],[51.004606,13.764959,"Leubnitzer H\u00f6he"],[51.004896,13.886125,"Am Sch\u00f6psdamm"],[51.005113,13.856339,"Gondelweg"],[51.005236,13.799037,"Jacob-Winter-Platz"],[51.005351,13.826954,"Guerickestra\u00dfe"],[51.005558,13.688423,"Hermann-Michel-Stra\u00dfe"],[51.005702,13.788012,"Gamigstra\u00dfe"],[51.005827,13.838457,"Wei\u00dfdornstra\u00dfe"],[51.005845,13.807966,"Niedersedlitzer Stra\u00dfe"],[51.005874,13.875064,"Dampfschiffstra\u00dfe"],[51.00648,13.76587,"Koloniestra\u00dfe"],[51.006496,13.853003,"Kurhausstra\u00dfe"],[51.006712,13.880513,"Lohmener Stra\u00dfe"],[51.006829,13.698073,"Stuttgarter Stra\u00dfe"],[51.007104,13.849252,"Zschierener Stra\u00dfe"],[51.007546,13.835447,"Kastanienstra\u00dfe"],[51.00783,13.768116,"Kauschaer Stra\u00dfe"],[51.008035,13.848932,"Meu\u00dflitzer Stra\u00dfe"],[51.008203,13.854781,"Freystra\u00dfe"],[51.008362,13.803318,"Albert-Wolf-Platz"],[51.008564,13.874973,"Pillnitzer Platz"],[51.00858,13.693235,"Gewerbegebiet Gittersee"],[51.008671,13.84055,"Heckenweg"],[51.009596,13.861592,"F\u00e4hrstelle Kleinzschachwitz"],[51.009596,13.783801,"Tornaer Stra\u00dfe"],[51.009674,13.700899,"Heilbronner Stra\u00dfe"],[51.009875,13.84855,"Keppgrundstra\u00dfe"],[51.00995,13.692387,"Rathausstra\u00dfe"],[51.009973,13.830912,"Berthold-Haupt-Stra\u00dfe"],[51.010126,13.800808,"Trattendorfer Stra\u00dfe"],[51.010126,13.814758,"Niederseidewitzer Weg"],[51.010317,13.824983,"Rathaus Leuben"],[51.010624,13.770061,"Thomas-Mann-Stra\u00dfe"],[51.010687,13.804663,"Betriebshof Reick"],[51.010885,13.806409,"M\u00fcgelner Stra\u00dfe"],[51.011071,13.863788,"F\u00e4hrstelle Pillnitz"],[51.011083,13.820268,"Mockethaler Stra\u00dfe"],[51.011441,13.808269,"Hp Dobritz"],[51.011503,13.811777,"Wilhelm-Liebknecht-Stra\u00dfe"],[51.012057,13.825864,"Altleuben"],[51.012109,13.788828,"Am Anger"],[51.012217,13.765775,"Klosterteichplatz"],[51.012312,13.699983,"T\u00fcbinger Stra\u00dfe"],[51.012344,13.873558,"Rathaus Pillnitz"],[51.012443,13.799244,"Seidnitzer Weg"],[51.012593,13.869835,"Bodemerweg"],[51.012698,13.79143,"H\u00fcl\u00dfe-Gymnasium"],[51.012736,13.729911,"Bannewitzer Stra\u00dfe"],[51.012962,13.777674,"Marie-Wittich-Stra\u00dfe"],[51.013037,13.79512,"Altreick"],[51.013234,13.742955,"Babisnauer Stra\u00dfe"],[51.013239,13.694987,"Kleinnaundorfer Stra\u00dfe"],[51.01327,13.824159,"Friedhof Leuben"],[51.013526,13.790807,"H\u00fcl\u00dfestra\u00dfe"],[51.013551,13.821163,"Rottwerndorfer Stra\u00dfe"],[51.013746,13.811494,"Breitscheidstra\u00dfe"],[51.013879,13.768788,"Karl-Laux-Stra\u00dfe"],[51.014071,13.863923,"Pillnitz Leonardo-da-Vinci-Stra\u00dfe"],[51.014407,13.726938,"Altkaitz"],[51.014428,13.748472,"Campingplatz Mockritz"],[51.014861,13.697198,"Gebauerstra\u00dfe"],[51.014985,13.7515,"M\u00fcnzteichweg"],[51.015014,13.848184,"Eichbergstra\u00dfe"],[51.015081,13.740872,"Altmockritz"],[51.015384,13.764385,"Neuostra"],[51.015541,13.860846,"Van-Gogh-Stra\u00dfe"],[51.015542,13.771759,"Spitzwegstra\u00dfe"],[51.01557,13.809798,"Vollmarstra\u00dfe"],[51.015743,13.755519,"Wilhelm-Busch-Stra\u00dfe"],[51.015787,13.756733,"Wilhelm-Busch-Stra\u00dfe Ost"],[51.01581,13.698672,"Cosch\u00fctz"],[51.015841,13.786963,"Lohrmannstra\u00dfe"],[51.015846,13.768293,"Altleubnitz"],[51.01607,13.763584,"Robert-Sterl-Stra\u00dfe"],[51.016235,13.81618,"Abzweig nach Reick"],[51.016315,13.812207,"Kadenstra\u00dfe"],[51.016415,13.700946,"Achtbeeteweg"],[51.016637,13.729287,"Innsbrucker Stra\u00dfe"],[51.017419,13.830151,"Gro\u00dfglocknerstra\u00dfe"],[51.01743,13.761042,"Clausen-Dahl-Stra\u00dfe"],[51.017521,13.808064,"An der Rennbahn"],[51.017624,13.783824,"Wieckestra\u00dfe"],[51.017892,13.67526,"Gitterseebr\u00fccke"],[51.017967,13.706119,"Cunnersdorfer Stra\u00dfe"],[51.01824,13.789378,"Enno-Heidebroek-Stra\u00dfe"],[51.018751,13.758712,"Mockritz"],[51.018779,13.810407,"Altdobritz"],[51.018812,13.718978,"Dorfhainer Stra\u00dfe"],[51.018821,13.842221,"Schiffswerft Laubegast"],[51.019038,13.855756,"An der Obstplantage"],[51.019107,13.73555,"Ludwig-Renn-Allee"],[51.019108,13.706133,"Saarstra\u00dfe"],[51.019176,13.741154,"M\u00fcnzmeisterstra\u00dfe"],[51.019213,13.757874,"Zschertnitzer Stra\u00dfe"],[51.019293,13.768054,"Dohnaer Stra\u00dfe"],[51.019417,13.725514,"H\u00f6ckendorfer Weg"],[51.019463,13.780546,"Otto-Dix-Ring"],[51.019716,13.729601,"S\u00fcdh\u00f6he"],[51.020167,13.811901,"Lassallestra\u00dfe"],[51.020268,13.755904,"Mockritz Otto-Pilz-Stra\u00dfe"],[51.02092,13.682924,"Heidenschanze"],[51.021243,13.76455,"Corinthstra\u00dfe"],[51.021268,13.790635,"Bahnhof Reick"],[51.021672,13.83354,"Laibacher Stra\u00dfe"],[51.02169,13.710347,"Kotteweg"],[51.021925,13.759858,"Leiblstra\u00dfe"],[51.022126,13.795643,"Pferderennbahn"],[51.022224,13.717408,"C\u00e4mmerswalder Stra\u00dfe"],[51.022288,13.80383,"Bergfelderweg"],[51.022425,13.765436,"Hugo-B\u00fcrkner-Stra\u00dfe"],[51.022526,13.697421,"Felsenkeller"],[51.02264,13.692622,"Begerburg"],[51.022654,13.750222,"Dora-Stock-Stra\u00dfe"],[51.022704,13.774313,"Eugen-Bracht-Stra\u00dfe"],[51.022877,13.838662,"Kronst\u00e4dter Platz"],[51.023053,13.74703,"Rubensweg"],[51.023378,13.808919,"Prof.-Ricker-Stra\u00dfe"],[51.023471,13.825486,"Reichenhaller Stra\u00dfe"],[51.023534,13.742472,"R\u00e4cknitzh\u00f6he"],[51.023719,13.743919,"Paradiesstra\u00dfe"],[51.024121,13.736251,"Stadtgutstra\u00dfe"],[51.024178,13.797276,"Winterbergstra\u00dfe"],[51.024471,13.753155,"Schurichtstra\u00dfe"],[51.024532,13.76228,"Mockritzer Stra\u00dfe"],[51.024591,13.71359,"Westendstra\u00dfe"],[51.024812,13.837413,"Leubener Stra\u00dfe"],[51.024964,13.769937,"C\u00e4cilienstra\u00dfe"],[51.025302,13.687615,"D\u00f6lzschen"],[51.025436,13.789114,"N\u00e4therstra\u00dfe"],[51.02549,13.851423,"Gustavheim"],[51.025518,13.805381,"Marienberger Stra\u00dfe"],[51.025549,13.725456,"Helmholtzstra\u00dfe"],[51.025582,13.829603,"Burgenlandstra\u00dfe"],[51.025632,13.757276,"Heinrich-Zille-Stra\u00dfe"],[51.026381,13.720826,"Regensburger Stra\u00dfe"],[51.026411,13.75568,"Caspar-David-Friedrich-Stra\u00dfe"],[51.026583,13.710156,"Plauenscher Ring"],[51.027253,13.831949,"Troppauer Stra\u00dfe"],[51.02733,13.80042,"Rennplatzstra\u00dfe"],[51.027511,13.731374,"Mommsenstra\u00dfe"],[51.027624,13.715768,"Plauen N\u00f6thnitzer Stra\u00dfe"],[51.027684,13.808345,"Liebenauer Stra\u00dfe"],[51.027822,13.834652,"Hermann-Seidel-Stra\u00dfe"],[51.027901,13.77722,"Betriebshof Gruna"],[51.02811,13.75928,"Wasaplatz"],[51.028152,13.711682,"Kaitzer Stra\u00dfe"],[51.028253,13.70721,"Cosch\u00fctzer Stra\u00dfe"],[51.028365,13.745847,"Zellescher Weg"],[51.028381,13.847119,"Staffelsteinstra\u00dfe"],[51.02839,13.7952,"Rauensteinstra\u00dfe"],[51.028535,13.78631,"Gasanstaltstra\u00dfe"],[51.028898,13.813553,"Knappestra\u00dfe"],[51.029097,13.737763,"Staats- und Universit\u00e4tsbibliothek"],[51.029121,13.687098,"Alfred-Thiele-Stra\u00dfe"],[51.029439,13.707254,"Rathaus Plauen"],[51.029719,13.832375,"Alttolkewitz"],[51.029776,13.703303,"Hp Plauen"],[51.029827,13.771149,"Tiergartenstra\u00dfe"],[51.029891,13.730921,"Technische Universit\u00e4t (Fr.-Foerster-Platz)"],[51.029894,13.721569,"M\u00fcnchner Platz"],[51.030149,13.782509,"Fraunhofer-Institutszentrum"],[51.030234,13.789284,"Liebst\u00e4dter Stra\u00dfe"],[51.030339,13.802931,"Einkaufszentrum Seidnitz"],[51.03091,13.780371,"Grunaer Weg"],[51.030951,13.761056,"Hp Strehlen"],[51.031218,13.81869,"Wilischstra\u00dfe"],[51.031266,13.750874,"Weberplatz"],[51.031712,13.685696,"R\u00fcdesheimer Stra\u00dfe"],[51.031722,13.837615,"F\u00e4hrstelle Tolkewitz"],[51.031775,13.726942,"N\u00fcrnberger Platz"],[51.031846,13.701882,"Fritz-Schulze-Stra\u00dfe"],[51.031846,13.821666,"Kipsdorfer Stra\u00dfe"],[51.032233,13.839445,"F\u00e4hrstelle Niederpoyritz"],[51.032511,13.840013,"Moosleite"],[51.032548,13.757652,"Julius-Otto-Stra\u00dfe"],[51.032718,13.697537,"D\u00f6lzschener Stra\u00dfe"],[51.032775,13.805236,"Hepkestra\u00dfe"],[51.033245,13.669128,"Beerenhut"],[51.033748,13.69103,"Kasseler Stra\u00dfe"],[51.033762,13.749272,"Strehlener Platz"],[51.033782,13.645865,"Altfranken"],[51.033806,13.816468,"Lengefelder Stra\u00dfe"],[51.033921,13.712451,"Bamberger Stra\u00dfe"],[51.033999,13.823134,"Wasserwerk Tolkewitz"],[51.03404,13.722079,"S\u00fcdvorstadt"],[51.034063,13.783458,"Zwinglistra\u00dfe"],[51.0341,13.800397,"B\u00e4rensteiner Stra\u00dfe"],[51.03411,13.675261,"Neunimptscher Stra\u00dfe"],[51.034494,13.721169,"Bernhardstra\u00dfe"],[51.034507,13.758325,"Querallee"],[51.034614,13.687056,"Altnau\u00dflitz"],[51.034617,13.703594,"W\u00fcrzburger Stra\u00dfe"],[51.034656,13.702127,"Mohorner Stra\u00dfe"],[51.035125,13.731387,"Reichenbachstra\u00dfe"],[51.035184,13.684296,"K\u00f6lner Stra\u00dfe"],[51.035284,13.807529,"Altenberger Platz"],[51.035311,13.817938,"Tolkewitz Urnenhain"],[51.035708,13.811495,"Berggie\u00dfh\u00fcbler Stra\u00dfe"],[51.035882,13.815922,"Johannisfriedhof"],[51.035927,13.78852,"Schneebergstra\u00dfe"],[51.036025,13.795652,"Kurzer Schritt"],[51.036301,13.697226,"Frankenbergstra\u00dfe"],[51.03651,13.683375,"Saalhausener Stra\u00dfe"],[51.036634,13.702114,"Reisewitzer-/Frankenbergstr"],[51.036838,13.71581,"Chemnitzer Stra\u00dfe"],[51.036864,13.739622,"Uhlandstra\u00dfe"],[51.036937,13.752172,"Zoo"],[51.036947,13.808121,"Schaufu\u00dfstra\u00dfe"],[51.037057,13.778098,"Karcherallee"],[51.037222,13.832585,"Altwachwitz"],[51.037276,13.792607,"Junghansstra\u00dfe"],[51.037832,13.790946,"Schl\u00fcterstra\u00dfe"],[51.037919,13.697841,"Clara-Zetkin-Stra\u00dfe"],[51.038035,13.808691,"Striesen Ludw.-Hartmann-Stra\u00dfe"],[51.038353,13.705072,"Clara-Viebig-Stra\u00dfe"],[51.038377,13.746608,"Lenn\u00e9platz"],[51.038472,13.713517,"Zwickauer Stra\u00dfe"],[51.038802,13.733805,"Hauptbahnhof (Friedrich-List-Platz)"],[51.038831,13.739724,"Gret-Palucca-Stra\u00dfe"],[51.03896,13.701658,"Bonhoefferplatz"],[51.039294,13.651436,"Am Altfrankener Park"],[51.03949,13.805868,"Altenberger Stra\u00dfe"],[51.039739,13.771413,"Lipsiusstra\u00dfe"],[51.039908,13.71916,"Agentur f\u00fcr Arbeit"],[51.039991,13.788505,"Hepkeplatz"],[51.040007,13.666448,"Kapellenweg"],[51.040008,13.645459,"Altnossener Stra\u00dfe"],[51.040014,13.659689,"Hirtenstra\u00dfe"],[51.040202,13.732175,"Hauptbahnhof"],[51.040472,13.673523,"W\u00f6lfnitzer Ring"],[51.040744,13.826422,"Josef-Herrmann-Stra\u00dfe"],[51.040873,13.779627,"Mansfelder Stra\u00dfe"],[51.041175,13.800942,"Gottleubaer Stra\u00dfe"],[51.041363,13.735085,"Hauptbahnhof Nord"],[51.041603,13.705377,"Ebertplatz"],[51.041666,13.766467,"Comeniusplatz"],[51.041808,13.812931,"Gustav-Freytag-Stra\u00dfe"],[51.041825,13.701207,"Schillingstra\u00dfe"],[51.041898,13.721387,"Schweizer Stra\u00dfe"],[51.042391,13.680109,"Julius-Vahlteich-Stra\u00dfe"],[51.042461,13.683419,"Koblenzer Stra\u00dfe"],[51.042568,13.751329,"Gro\u00dfer Garten"],[51.042752,13.691273,"Malterstra\u00dfe"],[51.042871,13.795333,"Pohlandplatz"],[51.042889,13.741872,"Hans-Dankner-Stra\u00dfe"],[51.043097,13.68166,"W\u00f6lfnitz"],[51.043301,13.788347,"Bergmannstra\u00dfe"],[51.043349,13.694132,"Neuer Annenfriedhof"],[51.043579,13.698661,"B\u00fcnaustra\u00dfe"],[51.043647,13.807341,"Niederwaldplatz"],[51.043683,13.78223,"Spenerstra\u00dfe"],[51.043734,13.703473,"Tharandter Stra\u00dfe"],[51.043738,13.706268,"Saxoniastra\u00dfe"],[51.043752,13.724892,"Budapester Stra\u00dfe"],[51.043806,13.737657,"Walpurgisstra\u00dfe"],[51.043826,13.725993,"Ammonstra\u00dfe / Budapester Stra\u00dfe"],[51.044676,13.669995,"Merianplatz"],[51.044829,13.777782,"Mosenstra\u00dfe"],[51.044885,13.709618,"Oederaner Stra\u00dfe"],[51.044979,13.799136,"Dornbl\u00fcthstra\u00dfe"],[51.045144,13.701756,"L\u00f6btau Gr\u00f6belstra\u00dfe"],[51.045483,13.678295,"Amalie-Dietrich-Platz"],[51.045532,13.823145,"K\u00fcnstlerhaus"],[51.045836,13.729291,"Josephinenstra\u00dfe"],[51.045979,13.693159,"Conertplatz"],[51.046034,13.812839,"Heinrich-Sch\u00fctz-Stra\u00dfe"],[51.046109,13.754985,"Stra\u00dfburger Platz"],[51.046215,13.663547,"Kirschenstra\u00dfe"],[51.046234,13.67982,"Dahlienweg"],[51.046317,13.707575,"Wernerstra\u00dfe"],[51.046346,13.770852,"Fetscherplatz"],[51.046656,13.713277,"Rosenstra\u00dfe"],[51.046742,13.733075,"Reitbahnstra\u00dfe"],[51.046762,13.762982,"Krankenhaus Sankt Joseph-Stift"],[51.046851,13.652989,"Betriebshof Gorbitz"],[51.046885,13.791495,"Wittenberger Stra\u00dfe"],[51.047081,13.809087,"Oehmestra\u00dfe"],[51.047148,13.737825,"Prager Stra\u00dfe"],[51.047463,13.80304,"Niederwaldstra\u00dfe"],[51.047504,13.750674,"Deutsches Hygiene-Museum"],[51.048053,13.734379,"Webergasse"],[51.048199,13.68069,"Coventrystra\u00dfe"],[51.048614,13.720124,"Hp Freiberger Stra\u00dfe"],[51.048659,13.657987,"Schlehenstra\u00dfe"],[51.049025,13.696351,"Burgkstra\u00dfe"],[51.049069,13.692088,"Pennricher Stra\u00dfe"],[51.049217,13.806432,"Berggartenstra\u00dfe"],[51.049237,13.809784,"J\u00fcngststra\u00dfe"],[51.049256,13.687873,"Chamissostra\u00dfe"],[51.049265,13.794025,"H\u00fcblerplatz"],[51.049438,13.760759,"Striesener Stra\u00dfe"],[51.049474,13.743974,"Pirnaischer Platz"],[51.049608,13.774499,"Gabelsbergerstra\u00dfe"],[51.049735,13.757176,"St.-Benno-Gymnasium"],[51.050138,13.678421,"Weidentalstra\u00dfe"],[51.050238,13.797928,"Jacobistra\u00dfe"],[51.050239,13.738497,"Altmarkt"],[51.050274,13.713012,"Cottaer Stra\u00dfe"],[51.050417,13.847526,"Rochwitz B\u00fchlauer Stra\u00dfe"],[51.050511,13.726213,"Alfred-Althus-Stra\u00dfe"],[51.050515,13.842481,"Auf der H\u00f6he"],[51.050688,13.845212,"Hutbergstra\u00dfe"],[51.050784,13.751382,"Gerichtsstra\u00dfe"],[51.050851,13.733585,"Postplatz"],[51.050999,13.80285,"W\u00e4gnerstra\u00dfe"],[51.051006,13.819765,"Calberlastra\u00dfe"],[51.051043,13.808129,"Kretschmerstra\u00dfe"],[51.051329,13.706062,"Semmelweisstra\u00dfe"],[51.051334,13.682743,"Hebbelplatz"],[51.051391,13.830806,"Kotzschweg"],[51.052113,13.75805,"D\u00fcrerstra\u00dfe"],[51.052177,13.805092,"Schillerplatz"],[51.052443,13.67752,"Arthur-Weineck-Stra\u00dfe"],[51.052447,13.76983,"Trinitatisplatz"],[51.052448,13.659578,"Adalbert-Stifter-Weg"],[51.052465,13.747138,"Synagoge"],[51.052704,13.681851,"Grillparzerstra\u00dfe"],[51.05276,13.726696,"Schweriner Stra\u00dfe"],[51.052885,13.777706,"Blasewitzer Stra\u00dfe / Fetscherstra\u00dfe"],[51.052908,13.672716,"Gorbitzer Stra\u00dfe"],[51.052972,13.761877,"Gerokstra\u00dfe"],[51.053013,13.798706,"Prellerstra\u00dfe"],[51.053014,13.660183,"Altomsewitz"],[51.053059,13.690935,"Birkenhainer Stra\u00dfe"],[51.053067,13.828846,"Amselsteg"],[51.053077,13.658331,"Omsewitz"],[51.053162,13.763025,"Permoserstra\u00dfe"],[51.053276,13.781557,"Augsburger Stra\u00dfe"],[51.053576,13.736582,"Theaterplatz"],[51.053617,13.864555,"Hornweg"],[51.053639,13.759378,"G\u00fcntzplatz"],[51.053656,13.663757,"Altburgst\u00e4dtel"],[51.053796,13.792246,"Lene-Glatzer-Stra\u00dfe"],[51.053798,13.82578,"Malerstra\u00dfe"],[51.053823,13.786942,"K\u00f6nigsheimplatz"],[51.053927,13.666805,"Lise-Meitner-Stra\u00dfe"],[51.0541,13.820814,"Obere Station Schwebebahn"],[51.054124,13.814653,"K\u00f6rnerplatz"],[51.054613,13.757389,"Sachsenallee"],[51.054668,13.730205,"Am Zwingerteich"],[51.054763,13.720138,"Sch\u00e4ferstra\u00dfe"],[51.055418,13.831992,"Zweibr\u00fcderweg"],[51.055547,13.762845,"B\u00f6nischplatz"],[51.055641,13.723394,"Bahnhof Mitte"],[51.055817,13.777647,"Tatzberg"],[51.056086,13.708391,"Bahnhof Friedrichstadt"],[51.056283,13.861952,"Quohrener Stra\u00dfe"],[51.056452,13.766616,"Pfeifferhannsstra\u00dfe"],[51.05648,13.819224,"Ri\u00dfweg"],[51.056525,13.780755,"Universit\u00e4tsklinikum"],[51.056569,13.714685,"Manitiusstra\u00dfe"],[51.056944,13.687054,"Altcotta"],[51.056953,13.726496,"Maxstra\u00dfe (Bf Mitte)"],[51.05713,13.834028,"Scharfensteinstra\u00dfe"],[51.057173,13.77001,"Gutenbergstra\u00dfe"],[51.057526,13.745959,"Carolaplatz"],[51.057821,13.741277,"Neust\u00e4dter Markt"],[51.05812,13.710063,"Waltherstra\u00dfe"],[51.058342,13.656607,"Freiheit"],[51.058373,13.722868,"Wei\u00dferitzstra\u00dfe"],[51.058377,13.818614,"Obere Station Standseilbahn"],[51.058502,13.72808,"Kongresszentrum / Haus der Presse"],[51.058503,13.828419,"Steglichstra\u00dfe"],[51.058532,13.650181,"Am Steinigt"],[51.058533,13.776396,"Neubertstra\u00dfe"],[51.05863,13.839793,"Elisabethstra\u00dfe"],[51.058654,13.730596,"Kongresszentrum  (Devrientstr.)"],[51.058738,13.777659,"Pfotenhauerstra\u00dfe"],[51.058755,13.684296,"Ockerwitzer Stra\u00dfe"],[51.058953,13.661736,"Martin-Opitz-Stra\u00dfe"],[51.059196,13.782398,"Johannstadt"],[51.059233,13.701602,"Hamburger Stra\u00dfe"],[51.059282,13.832658,"T\u00e4nnichtstra\u00dfe"],[51.059319,13.752917,"Rosa-Luxemburg-Platz"],[51.05943,13.670469,"Leutewitz"],[51.05988,13.718202,"Krankenhaus Friedrichstadt (Sportpark Ostra)"],[51.059931,13.857034,"Cunewalder Stra\u00dfe"],[51.060201,13.7384,"Palaisplatz"],[51.060327,13.777249,"K\u00e4the-Kollwitz-Ufer"],[51.060341,13.7119,"Betriebshof Waltherstra\u00dfe"],[51.060435,13.860892,"Rossendorfer Stra\u00dfe"],[51.060652,13.694836,"Bremer Stra\u00dfe"],[51.060701,13.715494,"Vorwerkstra\u00dfe"],[51.060998,13.67773,"Gottfried-Keller-Stra\u00dfe"],[51.06135,13.870059,"Taubenberg"],[51.061544,13.69036,"Fl\u00fcgelweg"],[51.061585,13.766584,"F\u00e4hrstelle Johannstadt"],[51.06178,13.680854,"Cossebauder Stra\u00dfe (Haltepunkt Cotta)"],[51.061828,13.848508,"Grundstra\u00dfe"],[51.061875,13.831262,"Am Wei\u00dfen Adler"],[51.061958,13.843663,"Hegereiterstra\u00dfe"],[51.061963,13.666865,"Droste-H\u00fclshoff-Stra\u00dfe"],[51.062121,13.683391,"Hp Cotta"],[51.062231,13.838923,"Neub\u00fchlauer Stra\u00dfe"],[51.062408,13.854452,"B\u00fchlau Ullersdorfer Platz"],[51.06291,13.765735,"F\u00e4hrstelle Neustadt"],[51.062984,13.7519,"Bautzner Stra\u00dfe / Rothenburger Stra\u00dfe"],[51.06309,13.736996,"Anton-/Leipziger Stra\u00dfe"],[51.063116,13.715726,"Alberthafen"],[51.063295,13.757533,"Pulsnitzer Stra\u00dfe"],[51.063313,13.746748,"Albertplatz"],[51.063762,13.821493,"Plattleite"],[51.064221,13.675564,"Schunckstra\u00dfe"],[51.064227,13.673238,"Am Lehmberg"],[51.064264,13.762434,"Diakonissenkrankenhaus"],[51.064301,13.811698,"Mordgrundbr\u00fccke"],[51.064867,13.737804,"Bf. Neustadt (Eisenbahnstr.)"],[51.065432,13.740878,"Bahnhof Neustadt"],[51.065946,13.797767,"Elbschl\u00f6sser"],[51.066103,13.753701,"G\u00f6rlitzer Stra\u00dfe"],[51.066137,13.769368,"Nordstra\u00dfe"],[51.066375,13.739116,"Bahnhof Neustadt (Hansastra\u00dfe)"],[51.066935,13.866517,"Hermann-L\u00f6ns-Stra\u00dfe"],[51.066997,13.78374,"Angelikastra\u00dfe"],[51.067132,13.674427,"Merbitzer Stra\u00dfe"],[51.067195,13.789583,"Wilhelminenstra\u00dfe"],[51.067288,13.777616,"Waldschl\u00f6\u00dfchen"],[51.067571,13.670106,"Schulberg"],[51.067878,13.651698,"Mobschatzer H\u00f6he"],[51.067916,13.731641,"Alter Schlachthof"],[51.067931,13.666281,"Hammeraue"],[51.067956,13.747679,"Louisenstra\u00dfe"],[51.068172,13.716712,"Messering (Halle 1)"],[51.068185,13.655375,"Am Zschonergrundbad"],[51.068269,13.745351,"Dammweg"],[51.068677,13.786729,"B\u00f6hmertstra\u00dfe"],[51.068833,13.660378,"Schleswiger Stra\u00dfe"],[51.069168,13.689682,"Werftstra\u00dfe"],[51.06939,13.723106,"F\u00e4hrstelle Ostragehege"],[51.069418,13.738203,"L\u00f6\u00dfnitzstra\u00dfe"],[51.069425,13.694314,"Mengsstra\u00dfe"],[51.069808,13.775658,"Waldschl\u00f6\u00dfchenstra\u00dfe"],[51.069826,13.71429,"Messe Dresden"],[51.069915,13.7555,"Alaunplatz"],[51.070426,13.724215,"F\u00e4hrstelle Eisenberger Stra\u00dfe"],[51.070427,13.788123,"J\u00e4gerpark Heideblick"],[51.070874,13.728569,"Alexander-Puschkin-Platz"],[51.071,13.772364,"Landesdirektion Sachsen"],[51.071091,13.765747,"Arno-Holz-Allee"],[51.071158,13.695091,"Th\u00e4terstra\u00dfe"],[51.071425,13.750735,"Bischofsweg"],[51.071738,13.670427,"Zschonergrundstra\u00dfe"],[51.071959,13.746874,"Bischofsplatz"],[51.072059,13.714644,"Messe Gleisschleife"],[51.072062,13.878168,"Schneise 8"],[51.072132,13.789502,"Mathias-Oeder-Stra\u00dfe"],[51.072659,13.669476,"Hp Kemnitz"],[51.072682,13.695347,"Kaditzer Stra\u00dfe"],[51.072736,13.735759,"Gro\u00dfenhainer Platz"],[51.073252,13.765544,"Marienallee"],[51.073433,13.740879,"Friedensstra\u00dfe"],[51.073622,13.690058,"Overbeckstra\u00dfe"],[51.073629,13.793869,"Fischhausstra\u00dfe"],[51.073729,13.690719,"\u00dcbigau"],[51.073757,13.752863,"Tannenstra\u00dfe"],[51.074034,13.693883,"Scharfenberger Stra\u00dfe"],[51.074494,13.698695,"Rethelstra\u00dfe"],[51.074506,13.723068,"Oschatzer Stra\u00dfe"],[51.075197,13.734709,"Gro\u00dfenhainer Stra\u00dfe / Fritz-Reuter-Stra\u00dfe"],[51.075601,13.6662,"Flensburger Stra\u00dfe"],[51.07582,13.75795,"Hans-Oster-Stra\u00dfe"],[51.076615,13.733007,"Liststra\u00dfe"],[51.076621,13.75554,"Stauffenbergallee"],[51.076896,13.725568,"B\u00fcrgerstra\u00dfe"],[51.077134,13.7314,"Liststra\u00dfe (Harkortstra\u00dfe)"],[51.077177,13.699079,"An der Flutrinne"],[51.077375,13.721748,"Rathaus Pieschen"],[51.07738,13.717124,"Altpieschen"],[51.077403,13.751945,"Rudolf-Leonhard-Stra\u00dfe"],[51.077659,13.749857,"Schanzenstra\u00dfe"],[51.078019,13.690576,"Gewerbegebiet Kaditz"],[51.078541,13.747393,"Buchenstra\u00dfe"],[51.078791,13.732418,"Pestalozziplatz"],[51.078924,13.708119,"Trachauer Stra\u00dfe"],[51.07951,13.659333,"Podemusstra\u00dfe"],[51.079821,13.697135,"S\u00f6rnewitzer Stra\u00dfe"],[51.080376,13.71391,"Mickten"],[51.080918,13.650649,"Hp Stetzsch"],[51.081141,13.719975,"Wurzener Stra\u00dfe"],[51.081219,13.725644,"Hp Pieschen"],[51.081483,13.745406,"B\u00e4rwalder Stra\u00dfe"],[51.081636,13.733352,"Eschebachstra\u00dfe"],[51.08188,13.760264,"Heeresb\u00e4ckerei"],[51.081977,13.695358,"ElbePark"],[51.082156,13.730388,"Zeithainer Stra\u00dfe"],[51.08221,13.707127,"Bunsenstra\u00dfe"],[51.082243,13.700592,"W\u00e4chterstra\u00dfe"],[51.082279,13.691259,"Washingtonstra\u00dfe"],[51.082604,13.652222,"Am Urnenfeld"],[51.083342,13.686788,"Riegelplatz"],[51.084197,13.743067,"Oberauer Stra\u00dfe"],[51.08434,13.709004,"Alttrachau"],[51.08447,13.672699,"Altkaditz"],[51.08463,13.727798,"Trachenberger Platz"],[51.085194,13.645192,"Gohlis"],[51.085774,13.683308,"F\u00fcrstenhainer Stra\u00dfe"],[51.085858,13.704806,"Rankestra\u00dfe"],[51.086783,13.763019,"Industriegel\u00e4nde"],[51.086845,13.722099,"Markusfriedhof"],[51.087273,13.737531,"Sankt-Pauli-Friedhof"],[51.087374,13.729498,"Betriebshof Trachenberge"],[51.087723,13.718678,"Boxdorfer Stra\u00dfe"],[51.08792,13.699644,"Rankestra\u00dfe / Peschelstra\u00dfe"],[51.087968,13.679534,"Seewiesenweg"],[51.088016,13.71522,"Wilder-Mann-Stra\u00dfe"],[51.088359,13.725481,"R\u00fcckertstra\u00dfe"],[51.088575,13.703422,"Am Trachauer Bahnhof"],[51.088686,13.634654,"Schillerstra\u00dfe"],[51.088753,13.646504,"Obergohlis"],[51.088922,13.73057,"Maxim-Gorki-Stra\u00dfe"],[51.089075,13.642761,"Fehrmannweg"],[51.089117,13.637838,"Gartenstra\u00dfe"],[51.089243,13.69521,"Dungerstra\u00dfe"],[51.089569,13.748109,"Justizvollzugsanstalt"],[51.089588,13.704829,"Hp Trachau"],[51.089632,13.723316,"Hubertusplatz"],[51.089748,13.708675,"Krankenhaus Neustadt"],[51.090215,13.702568,"Geblerstra\u00dfe"],[51.090245,13.743795,"Fabricestra\u00dfe"],[51.090382,13.63547,"Kolpingstra\u00dfe"],[51.091387,13.711548,"Kopernikusstra\u00dfe"],[51.091488,13.673523,"Spitzhausstra\u00dfe"],[51.092285,13.737219,"Lauterbacher Stra\u00dfe"],[51.092351,13.699735,"Kleestra\u00dfe"],[51.092414,13.645063,"Windm\u00fchlenweg"],[51.092758,13.641078,"Niedergohlis S\u00fcdstr"],[51.092926,13.720627,"Dorothea-Erxleben-Stra\u00dfe"],[51.092975,13.668281,"Kaditz Am Vorwerksfeld"],[51.093523,13.765574,"Hellersiedlung"],[51.093844,13.715636,"Stephanstra\u00dfe"],[51.094093,13.734703,"Am Hellerhof"],[51.094351,13.64222,"Niedergohlis Dorfstra\u00dfe"],[51.09438,13.71891,"Platanenstra\u00dfe"],[51.094437,13.841471,"Heidem\u00fchle"],[51.094653,13.711954,"Aachener Stra\u00dfe"],[51.0951,13.76592,"Diebsteig"],[51.095769,13.719247,"Wilder Mann"],[51.098061,13.731439,"Hellerhofstra\u00dfe"],[51.099021,13.715699,"Neul\u00e4nder Stra\u00dfe"],[51.09911,13.768828,"Moritzburger Weg"],[51.09992,13.735778,"Hellerberge"],[51.103009,13.770191,"Infineon S\u00fcd"],[51.104453,13.710645,"Heidefriedhof"],[51.107077,13.774045,"Klotzsche Infineon"],[51.107589,13.772865,"Infineon Nord"],[51.108634,13.762023,"Markt Hellerau"],[51.109651,13.732515,"Am Olter"],[51.110611,13.775765,"Karl-Marx-Stra\u00dfe"],[51.110746,13.763232,"Am Hellerrand"],[51.111093,13.774798,"Rathaus Klotzsche"],[51.1126,13.759518,"Heinrich-Tessenow-Weg"],[51.112601,13.751092,"Festspielhaus Hellerau"],[51.113931,13.773193,"Gr\u00fcner Weg"],[51.114006,13.727965,"Elsterweg"],[51.11435,13.784064,"Zur Neuen Br\u00fccke"],[51.114881,13.780485,"Stralsunder Stra\u00dfe"],[51.114916,13.789384,"Bahnhof Klotzsche"],[51.115476,13.746401,"Brunnenweg"],[51.115571,13.710171,"An der Jungen Heide"],[51.116119,13.75211,"Am Festspielhaus"],[51.116361,13.770044,"D\u00f6rnichtweg"],[51.116524,13.778848,"Zinnowitzer Stra\u00dfe"],[51.116784,13.740695,"Hellerau Kiefernweg"],[51.116952,13.729932,"Waldteichstra\u00dfe"],[51.117295,13.712148,"L\u00f6\u00dfnitzweg"],[51.117904,13.761333,"Am Steinacker"],[51.118,13.735656,"Beckerstra\u00dfe"],[51.118044,13.774051,"Karlshagener Weg"],[51.118124,13.724891,"Keulenbergstra\u00dfe"],[51.118158,13.731063,"Sa\u00dfnitzer Stra\u00dfe"],[51.118588,13.766658,"Ahlbecker Stra\u00dfe"],[51.118917,13.789924,"K\u00e4the-Kollwitz-Platz"],[51.120667,13.763467,"Flughafenstra\u00dfe"],[51.121003,13.721084,"Reineckeweg"],[51.12113,13.784496,"Selliner Stra\u00dfe"],[51.122767,13.785059,"Fontane-Center"],[51.123084,13.723204,"Altwilschdorf"],[51.123094,13.761702,"Flughafen Terminal 1"],[51.123194,13.791218,"Arkonastra\u00dfe"],[51.123266,13.766394,"Flughafen West"],[51.12363,13.782721,"Sagarder Weg"],[51.12436,13.779635,"Putbuser Weg"],[51.124667,13.766505,"Flughafen"],[51.124803,13.743096,"R\u00e4hnitzer Allee"],[51.126238,13.788479,"Klotzsche Maria-Reiche-Stra\u00dfe"],[51.126327,13.731839,"Wilschdorfer Landstra\u00dfe"],[51.126978,13.772379,"Flugzeugwerke"],[51.127368,13.781051,"Grenzstra\u00dfe (Bus)"],[51.127477,13.722182,"Wilschdorf Industriegebiet"],[51.127532,13.792643,"Industriepark Klotzsche"],[51.128268,13.778028,"Bahnhof Grenzstra\u00dfe"],[51.129925,13.790179,"Hugo-Junkers-Ring"],[51.131147,13.786726,"Ikarusweg"],[51.132023,13.779373,"Zur Steinh\u00f6he"],[51.134816,13.778337,"Zum Windkanal"],[51.135338,13.780686,"Schwimmhalle Klotzsche"],[51.13878,13.782505,"Industriegebiet Nord"]];
var ort = "Dresden";
var max_range = 500;
var max_displayed_entries = 3;

if (typeof Number.prototype.toRadians == 'undefined') {
    Number.prototype.toRadians = function() { return this * Math.PI / 180; };
}

function stationShortener(stationname) {
	if(stationname.length < 14) {
		return stationname;
	} else {
		return stationname.substr(0, 14) + "...";
	}
}

function getDepartures(stationname) {
	var requesturl = encodeURI("http://widgets.vvo-online.de/abfahrtsmonitor/Abfahrten.do?ort="+ort+"&hst="+stationname+"&vz=0&iso=1");
	ajax({url: requesturl, type: "json"},
		function(data) {
			displayDepartures(stationname, data);
		}
	);
}

function displayDepartures(stationname, departures_list) {
	var directions = [];
	var number_of_entries = 0;
	var displaystring = "";
	for(var i in departures_list) {
		number_of_entries++;
		if(number_of_entries == max_displayed_entries) {
			break;
		}
		
		var departure = departures_list[i];
		if(directions.indexOf(departure[1]) == -1) {
			displaystring += departure[0] + " (" + departure[1] + "), " + departure[2] + " Min\n";	
		}
	}
	simply.title(stationShortener(stationname));
	simply.body(displaystring);
	
}

function displayClosest(closest_list, cur_lat, cur_lon) {
	var closest = null;

	for(var i in closest_list) {
		if(closest === null) {
			closest = closest_list[i];
		} 
		else if(distanceBetween(closest_list[i][0], closest_list[i][1], cur_lat, cur_lon) < distanceBetween(closest[0], closest[1], cur_lat, cur_lon)) {
			closest = closest_list[i];
		}
	}
	
	getDepartures(closest[2]);
}

function updatePosition(cur_lat, cur_lon) {
	simply.body("Suche nächste Haltestelle...");
	var closest = [];
	for(var i in hs) {
		var hs_lat = hs[i][0];
		var hs_lon = hs[i][1];
		if(distanceBetween(cur_lat, cur_lon, hs_lat, hs_lon) < max_range) {
			closest.push(hs[i]);
		}
	}
	
	displayClosest(closest, cur_lat, cur_lon);
}

function distanceBetween(lat1, lon1, lat2, lon2) {
	var R = 6371000; // meter
	var φ1 = lat1.toRadians();
	var φ2 = lat2.toRadians();
	var Δφ = (lat2-lat1).toRadians();
	var Δλ = (lon2-lon1).toRadians();

	var a = Math.sin(Δφ/2) * Math.sin(Δφ/2) +
			Math.cos(φ1) * Math.cos(φ2) *
			Math.sin(Δλ/2) * Math.sin(Δλ/2);
	var c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1-a));

	var d = R * c;
	return d;
}

simply.body("Warte auf Ortung...");

navigator.geolocation.getCurrentPosition(function(coords) {
	updatePosition(coords.coords.latitude, coords.coords.longitude);
});
